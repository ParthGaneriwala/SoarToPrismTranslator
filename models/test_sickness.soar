sp {apply*initialize
    (state <s> ^operator <o*1>)
    (<o*1> ^name initialize)
    (<s> ^io <i*1>)
    (<i*1> ^output-link <out>)
    -->
    (<s> ^name mission-monitor +)
    (<s> ^start-mission no +)
    (<s> ^action 3 +)
    (<s> ^sick 0 +)
    (<s> ^sick_thres 0.5 +)
    (<s> ^time-counter 1 +)
    (<s> ^total-time 1200 +)
    (<s> ^sickness-checked no +)
    (<s> ^sickness-time-interval-set no +)
    (<out> ^sick not-sick +)
    (<out> ^event Scan-and-Select +)
    (<out> ^current-time 1 +)
    (<out> ^total-time 1200 +)
    (<out> ^check-done no +)
    (write (crlf) |Agent initialized_|)
}
sp {propose*initialize
    (state <s> ^superstate nil)
    (<s> -^name )
    -->
    (<s> ^operator <o> +)
    (<s> ^operator <o> >)
    (<s> ^operator <o> =)
    (<o> ^name initialize +)
    (write (crlf) |Agent initializing_..|)
}
sp {top-state*elaborate*startmission
    (state <s> ^start-mission no)
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <s*1>)
    (<s*1> ^sys-start-mission <sm>)
    -->
    (<s> ^sm <sm> +)
    (<s> ^start-mission yes +)
    (write (crlf) |Start mission: | <sm>)
}
sp {top-state*elaborate*sickness-time-interval
    (state <s> ^sickness-time-interval-set no)
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <s*1>)
    (<s*1> ^time-interval <ti>)
    -->
    (<s> ^ti <ti> +)
    (<s> ^sickness-time-interval-set yes +)
    (write (crlf) |Sickness Time Interval: | <ti>)
}
sp {propose*SS-transition
    (state <s> ^sickness-time-interval-set yes)
    (<s> ^start-mission yes)
    (<s> ^name mission-monitor)
    (<s> ^time-counter <tc>)
    (<s> ^time-counter <tc>)
    (<s> ^total-time <tt>)
    (<s> ^time-counter { < <tt>  })
    (<s> ^action { << 3 2 >>  })
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^pdf2 <pdf2>)
    -->
    (write (crlf) |Transition from Scan and Select to Deciding ...|)
    (<s> ^operator <o> +)
    (<s> ^operator <o> =)
    (<o> ^name apply-SS-transition +)
    (<o> ^original-time-counter <tc> +)
}
sp {propose*D-transition
    (state <s> ^sickness-time-interval-set yes)
    (<s> ^action 0)
    (<s> ^start-mission yes)
    (<s> ^name mission-monitor)
    (<s> ^time-counter <tc>)
    (<s> ^time-counter <tc>)
    (<s> ^total-time <tt>)
    (<s> ^time-counter { < <tt>  })
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^pdf3 <pdf3>)
    -->
    (write (crlf) |Transition from Deciding to Decided ...|)
    (<s> ^operator <o> +)
    (<s> ^operator <o> =)
    (<o> ^name apply-D-transition +)
    (<o> ^original-time-counter <tc> +)
}
sp {propose*DD-transition
    (state <s> ^sickness-time-interval-set yes)
    (<s> ^action 1)
    (<s> ^start-mission yes)
    (<s> ^name mission-monitor)
    (<s> ^time-counter <tc>)
    (<s> ^time-counter <tc>)
    (<s> ^total-time <tt>)
    (<s> ^time-counter { < <tt>  })
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^pdf4 <pdf4>)
    -->
    (write (crlf) |Transition from Decided to Scan and Select ...|)
    (<s> ^operator <o> +)
    (<s> ^operator <o> =)
    (<o> ^name apply-DD-transition +)
    (<o> ^original-time-counter <tc> +)
}
sp {propose*check*transition
    (state <s> ^sickness-time-interval-set yes)
    (<s> ^sickness-checked no)
    (<s> ^start-mission yes)
    (<s> ^name mission-monitor)
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^check-sickness yes)
    (<sd> ^check-done no)
    -->
    (<s> ^operator <o> +)
    (<s> ^operator <o> >)
    (<o> ^name switch-monitor +)
}
sp {apply*apply-SS-transition
    (state <s> ^name mission-monitor)
    (<s> ^operator <o>)
    (<o> ^name apply-SS-transition)
    (<o> ^original-time-counter <tc>)
    (<s> ^time-counter <tc>)
    (<s> ^action <a>)
    (<s> ^io <i*3>)
    (<i*3> ^output-link <out>)
    (<out> ^current-time <ct>)
    (<out> ^event <e>)
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^pdf2 <pdf2>)
    -->
    (<s> ^time-counter <tc> -)
    (<s> ^time-counter (+ <pdf2> <tc>) +)
    (<s> ^action <a> -)
    (<s> ^action 0 +)
    (<out> ^event <e> -)
    (<out> ^event Deciding +)
    (<out> ^current-time <ct> -)
    (<out> ^current-time <tc> +)
    (write (crlf) |State = Deciding | <tc>)
}
sp {apply*apply-D-transition
    (state <s> ^name mission-monitor)
    (<s> ^operator <o>)
    (<o> ^name apply-D-transition)
    (<o> ^original-time-counter <tc>)
    (<s> ^time-counter <tc>)
    (<s> ^action <a>)
    (<s> ^io <i*3>)
    (<i*3> ^output-link <out>)
    (<out> ^current-time <ct>)
    (<out> ^event <e>)
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^pdf3 <pdf3>)
    -->
    (<s> ^time-counter <tc> -)
    (<s> ^time-counter (+ <pdf3> <tc>) +)
    (<s> ^action <a> -)
    (<s> ^action 1 +)
    (<out> ^event <e> -)
    (<out> ^event Decided +)
    (<out> ^current-time <ct> -)
    (<out> ^current-time <tc> +)
    (write (crlf) |State = Decided | <tc>)
}
sp {apply*apply-DD-transition
    (state <s> ^name mission-monitor)
    (<s> ^operator <o>)
    (<o> ^name apply-DD-transition)
    (<o> ^original-time-counter <tc>)
    (<s> ^time-counter <tc>)
    (<s> ^action <a>)
    (<s> ^io <i*3>)
    (<i*3> ^output-link <out>)
    (<out> ^current-time <ct>)
    (<out> ^event <e>)
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^pdf4 <pdf4>)
    -->
    (<s> ^time-counter <tc> -)
    (<s> ^time-counter (+ <pdf4> <tc>) +)
    (<s> ^action <a> -)
    (<s> ^action 2 +)
    (<out> ^event <e> -)
    (<out> ^event Scan-and-Select +)
    (<out> ^current-time <ct> -)
    (<out> ^current-time <tc> +)
    (write (crlf) |State = Scan-and-Select | <tc>)
}
sp {apply*check*transition
    (state <s> ^name mission-monitor)
    (<s> ^operator <o*1>)
    (<o*1> ^name switch-monitor)
    -->
    (write (crlf) |Switched_.. Mission-Monitor to Sickness|)
    (<s> ^name mission-monitor -)
    (<s> ^name sickness-monitor +)
}
sp {propose*notsick
    (state <s> ^sickness-checked no)
    (<s> ^name sickness-monitor)
    (<s> ^sick_thres <st>)
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^pdf1 { < <st>  })
    (<sd> ^pdf1 <pdf1>)
    -->
    (<s> ^operator <o> +)
    (<s> ^operator <o> >)
    (<s> ^operator <o> =)
    (<o> ^name apply-notsick +)
}
sp {propose*sick
    (state <s> ^sickness-checked no)
    (<s> ^name sickness-monitor)
    (<s> ^sick_thres <st>)
    (<s> ^io <i*1>)
    (<i*1> ^input-link <i*2>)
    (<i*2> ^systemdata <sd>)
    (<sd> ^pdf1 { > <st>  })
    (<sd> ^pdf1 <pdf1>)
    -->
    (<s> ^operator <o> +)
    (<s> ^operator <o> >)
    (<s> ^operator <o> =)
    (<o> ^name apply-sick +)
}
sp {propose*check*cybersickness
    (state <s> ^sickness-checked yes)
    (<s> ^name sickness-monitor)
    -->
    (<s> ^operator <o> +)
    (<s> ^operator <o> >)
    (<o> ^name switch-monitor +)
}
sp {apply*apply-notsick
    (state <s> ^operator <o*1>)
    (<o*1> ^name apply-notsick)
    (<s> ^sickness-checked <sc>)
    (<s> ^io <i*1>)
    (<i*1> ^output-link <out>)
    (<out> ^check-done )
    (<out> ^sick <old-sick>)
    -->
    (<s> ^sick 0 +)
    (write (crlf) |Agent not sick_..|)
    (<s> ^sickness-checked <sc> -)
    (<s> ^sickness-checked yes +)
    (<out> ^sick <old-sick> -)
    (<out> ^sick not-sick +)
    (<out> ^check-done no -)
    (<out> ^check-done yes +)
}
sp {apply*apply-sick
    (state <s> ^operator <o*1>)
    (<o*1> ^name apply-sick)
    (<s> ^sickness-checked <sc>)
    (<s> ^io <i*1>)
    (<i*1> ^output-link <out>)
    (<out> ^check-done )
    (<out> ^sick <old-sick>)
    -->
    (<s> ^sick 1 +)
    (write (crlf) |Agent sick_..|)
    (<s> ^sickness-checked <sc> -)
    (<s> ^sickness-checked yes +)
    (<out> ^sick <old-sick> -)
    (<out> ^sick sick +)
    (<out> ^check-done no -)
    (<out> ^check-done yes +)
}
sp {apply*check*cybersickness
    (state <s> ^name sickness-monitor)
    (<s> ^operator <o*1>)
    (<o*1> ^name switch-monitor)
    (<s> ^sickness-checked <sc>)
    (<s> ^io <i*1>)
    (<i*1> ^output-link <out>)
    (<out> ^check-done yes)
    -->
    (write (crlf) |Switched_.. Sickness-Monitor to Mission |)
    (<s> ^sickness-checked <sc> -)
    (<s> ^sickness-checked no +)
    (<s> ^name sickness-monitor -)
    (<s> ^name mission-monitor +)
}
